# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–ø–ø–µ–ª—è—Ü–∏–π

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞–ø–ø–µ–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –∏ —Ç–µ—Ä—è–ª–∏—Å—å –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ —Å–º–µ–Ω–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞.

## –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã
1. **–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –î–∞–Ω–Ω—ã–µ –∞–ø–ø–µ–ª—è—Ü–∏–π —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –≤ `window.currentOperatorErrors` –≤ –ø–∞–º—è—Ç–∏
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏**: –ù–µ –±—ã–ª–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ localStorage
3. **–ü–æ—Ç–µ—Ä—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏**: –î–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è–ª–∏—Å—å –ø—Ä–∏ —Å–º–µ–Ω–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ localStorage

```javascript
// –í —Ñ–∞–π–ª–µ js/appeal-modal.js

saveAppealData() {
    try {
        if (window.currentOperatorErrors) {
            localStorage.setItem('operatorAppeals', JSON.stringify(window.currentOperatorErrors));
            console.log('–î–∞–Ω–Ω—ã–µ –∞–ø–ø–µ–ª—è—Ü–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ localStorage');
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∞–ø–ø–µ–ª—è—Ü–∏–π:', error);
    }
}

loadAppealData() {
    try {
        const savedData = localStorage.getItem('operatorAppeals');
        if (savedData && window.currentOperatorErrors) {
            const savedAppeals = JSON.parse(savedData);
            
            // –û–±—ä–µ–¥–∏–Ω—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∞–ø–ø–µ–ª—è—Ü–∏–∏ —Å —Ç–µ–∫—É—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
            window.currentOperatorErrors.forEach(currentError => {
                const savedError = savedAppeals.find(saved => saved.id === currentError.id);
                if (savedError && savedError.appeals) {
                    currentError.appeals = savedError.appeals;
                }
            });
            
            console.log('–î–∞–Ω–Ω—ã–µ –∞–ø–ø–µ–ª—è—Ü–∏–π –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ localStorage');
            
            // –ü–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫ —Å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ –∞–ø–ø–µ–ª—è—Ü–∏—è–º–∏
            if (window.renderOperatorErrors) {
                window.renderOperatorErrors(window.currentOperatorErrors);
            }
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –∞–ø–ø–µ–ª—è—Ü–∏–π:', error);
    }
}
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `submit()`:
```javascript
// –î–æ–±–∞–≤–ª—è–µ–º –∞–ø–ø–µ–ª—è—Ü–∏—é –∫ –æ—à–∏–±–∫–µ
if (!error.appeals) {
    error.appeals = [];
}
error.appeals.push(newAppeal);

// –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ localStorage –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
this.saveAppealData();

// –ü–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫
if (window.renderOperatorErrors) {
    window.renderOperatorErrors(window.currentOperatorErrors);
}
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `open()`:
```javascript
open(errorId) {
    this.currentErrorId = errorId;
    this.loadErrorData(errorId);
    this.resetForm();
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–ø–ø–µ–ª—è—Ü–∏–π
    this.loadAppealData();
    
    this.modal.classList.add('show');
    
    // –§–æ–∫—É—Å –Ω–∞ textarea
    setTimeout(() => {
        document.getElementById('appealTextarea').focus();
    }, 300);
}
```

### 4. –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

–í —Ñ–∞–π–ª–µ `main.html` –¥–æ–±–∞–≤–ª–µ–Ω–æ:
```javascript
// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –æ—à–∏–±–∫–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
const operatorErrors = generateOperatorErrors(operatorId, operator.name);
window.currentOperatorErrors = operatorErrors; // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ

// –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∞–ø–ø–µ–ª—è—Ü–∏–∏
if (window.appealModal && window.appealModal.loadAppealData) {
    window.appealModal.loadAppealData();
}

renderOperatorErrors(operatorErrors);
```

### 5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```javascript
// –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
clearAppealData() {
    try {
        localStorage.removeItem('operatorAppeals');
        console.log('–î–∞–Ω–Ω—ã–µ –∞–ø–ø–µ–ª—è—Ü–∏–π –æ—á–∏—â–µ–Ω—ã');
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö –∞–ø–ø–µ–ª—è—Ü–∏–π:', error);
    }
}

// –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
exportAppealData() {
    try {
        const data = localStorage.getItem('operatorAppeals');
        if (data) {
            console.log('–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–ø–ø–µ–ª—è—Ü–∏–π:', JSON.parse(data));
            return JSON.parse(data);
        } else {
            console.log('–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∞–ø–ø–µ–ª—è—Ü–∏–π');
            return null;
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –¥–∞–Ω–Ω—ã—Ö –∞–ø–ø–µ–ª—è—Ü–∏–π:', error);
        return null;
    }
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test-appeal-save.html` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

### –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `test-appeal-save.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ"
3. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∞–ø–ø–µ–ª—è—Ü–∏—é" –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
4. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"
5. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ —Å–Ω–æ–≤–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ê–ø–ø–µ–ª—è—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –ê–ø–ø–µ–ª—è—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```javascript
// localStorage.getItem('operatorAppeals')
[
    {
        "id": 1,
        "code": "12345A",
        "description": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
        "appeals": [
            {
                "id": 1,
                "date": "14.07.2025 14:30",
                "text": "–¢–µ–∫—Å—Ç –∞–ø–ø–µ–ª—è—Ü–∏–∏",
                "status": "pending",
                "files": [...]
            }
        ]
    }
]
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

1. **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—Å—Ç—å**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å localStorage
4. **–û—Ç–ª–∞–¥–∫–∞**: –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞
5. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö

## –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è**: –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—á–∏—Å—Ç–∫—É —Å—Ç–∞—Ä—ã—Ö –∞–ø–ø–µ–ª—è—Ü–∏–π
2. **–°–∂–∞—Ç–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∂–∞—Ç–∏–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–Ω—ã–º API
4. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª—ã

---
*–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 14.07.2025*
*–ê–≤—Ç–æ—Ä: GitHub Copilot*
